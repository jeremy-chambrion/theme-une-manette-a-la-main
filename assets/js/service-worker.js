var version="v1::",cacheName=version+"umalm",cacheHostnames=["fonts.googleapis.com","fonts.gstatic.com","gravatar.com"],cacheExtensions=["css","js","otf","eot","svg","ttf","woff","woff2","ico"],installFiles=["/wp-content/themes/unemanettealamain/assets/logo/40x40.png","/wp-content/themes/unemanettealamain/assets/logo/150x150.png","/wp-content/themes/unemanettealamain/assets/logo/384x384.png","/wp-content/themes/unemanettealamain/assets/logo/600x600.png"],fetchCacheOrNetwork=function(e){"use strict";return caches.match(e.request).then(function(t){return console.log("Service Worker - fetchCacheOrNetwork "+(t?"(cache)":"(network)"),e.request.url),t||fetch(e.request)})},fetchCacheOrNetworkSave=function(e){"use strict";return caches.open(cacheName).then(function(t){return t.match(e.request).then(function(r){return console.log("Service Worker - fetchCacheOrNetworkSave "+(r?"(cache)":"(network)"),e.request.url),r||fetch(e.request).then(function(r){return t.put(e.request,r.clone()),console.log("Service Worker - put into cache",e.request.url),r})})})},fetchStaleWhileRevalidate=function(e){"use strict";return caches.open(cacheName).then(function(t){return t.match(e.request).then(function(r){var n=fetch(e.request).then(function(r){return t.put(e.request,r.clone()),console.log("Service Worker - put into cache",e.request.url),r});return console.log("Service Worker - fetchStaleWhileRevalidate "+(r?"(cache)":"(network)"),e.request.url),r||n})})},fetchNetworkSaveOrCache=function(e){"use strict";return caches.open(cacheName).then(function(t){return fetch(e.request).then(function(r){return t.put(e.request,r.clone()),console.log("Service Worker - fetchNetworkSaveOrCache (network)",e.request.url),console.log("Service Worker - put into cache",e.request.url),r}).catch(function(){return console.log("Service Worker - fetchNetworkSaveOrCache (cache)",e.request.url),t.match(e.request)})})};self.addEventListener("install",function(e){"use strict";return console.log("Service Worker - Install"),e.waitUntil(caches.open(cacheName).then(function(e){return console.log("Service Worker - Install files"),e.addAll(installFiles)})),self.skipWaiting()}),self.addEventListener("activate",function(e){"use strict";return console.log("Service Worker - Activate"),e.waitUntil(caches.keys().then(function(e){return Promise.all(e.filter(function(e){return!e.startsWith(cacheName)}).map(function(e){return console.log("Service Worker - Delete key",e),caches.delete(e)}))}).then(function(){console.log("Service Worker - Activate OK")})),self.clients.claim()}),self.addEventListener("fetch",function(e){"use strict";if("GET"===e.request.method)if(e.request.url.match(/wp-admin/)||e.request.url.match(/preview=true/))console.log("Service worker - Fetch event ignored.",e.request.url);else{var t=new URL(e.request.url),r=t.pathname.split(".").pop();if(t.origin===location.origin){if(cacheExtensions.indexOf(r)>-1){var n=!1;if(t.searchParams.forEach(function(e,t){""!==e&&["ver","v"].indexOf(t)>-1&&(n=!0)}),n)return console.log("Service Worker - Found local versioned CSS/JS",e.request.url),void e.respondWith(fetchCacheOrNetworkSave(e))}if(/\/$/.test(t.pathname))return console.log("Service Worker - Found local static page",e.request.url),void e.respondWith(fetchNetworkSaveOrCache(e))}for(var o=0;o<cacheHostnames.length;o++)if(t.hostname.indexOf(cacheHostnames[o])>-1)return console.log("Service Worker - Found external static URL",e.request.url),void e.respondWith(fetchCacheOrNetworkSave(e));if(cacheExtensions.indexOf(t.pathname.split(".").pop())>-1)return console.log("Service Worker - Found generic media extension",e.request.url),void e.respondWith(fetchStaleWhileRevalidate(e));console.log("Service Worker - Generic fallback",e.request.url),e.respondWith(fetchCacheOrNetwork(e))}else console.log("Service Worker - Fetch event ignored.",e.request.method,e.request.url)});
//# sourceMappingURL=service-worker.js.map
