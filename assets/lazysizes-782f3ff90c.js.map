{"version":3,"sources":["lazysizes.js"],"names":["window","factory","lazySizes","document","Date","lazysizes","lazySizesCfg","prop","lazyClass","loadedClass","loadingClass","preloadClass","lazySizesDefaults","errorClass","srcAttr","autosizesClass","fastLoadedClass","srcsetAttr","sizesAttr","expFactor","minSize","customMedia","init","hFac","ricTimeout","lazySizesConfig","lazysizesConfig","getElementsByClassName","cfg","docElem","documentElement","supportPicture","HTMLPictureElement","_addEventListener","_getAttribute","addEventListener","bind","setTimeout","requestAnimationFrame","requestIdleCallback","regPicture","loadEvents","Array","prototype","forEach","regClassCache","hasClass","ele","cls","RegExp","test","setAttribute","trim","removeClass","reg","replace","addRemoveLoadEvents","dom","action","add","fn","evt","triggerEvent","elem","name","detail","noBubbles","noCancelable","event","createEvent","initEvent","dispatchEvent","updatePolyfill","polyfill","picturefill","pf","full","el","reevaluate","elements","src","getCSS","style","getWidth","parent","width","offsetWidth","_lazysizesWidth","parentNode","running","waiting","firstFns","secondFns","fns","rAF","runFns","length","rafBatch","queue","apply","this","arguments","push","run","_lsFlush","rAFIt","simple","that","args","debounce","timestamp","timeout","func","later","last","now","loader","isCompleted","resetPreloadingTimer","loadMode","started","eLvW","elvH","eLtop","eLleft","eLright","eLbottom","isBodyHidden","regImg","regIframe","supportScroll","navigator","userAgent","currentExpand","isLoading","lowRuns","e","target","isVisible","isNestedVisible","elemExpand","outerRect","visible","getBoundingClientRect","body","left","right","top","checkElements","bottom","i","eLlen","lazyloadElems","_lazyRace","elemNegativeExpand","elemExpandVal","beforeExpandVal","defaultExpand","preloadExpand","prematureUnveil","expand","clientHeight","unveilElement","clientWidth","_defEx","innerWidth","hidden","innerHeight","loadedSomething","rect","autoLoadElem","loadHidden","throttledCheckElements","throttle","switchLoadingClass","preloadElems","_lazyCache","preloadAfterLoad","addClass","lastTime","gDelay","rICTimeout","idleCallback","isPriority","delay","rafSwitchLoadingClass","rafedSwitchLoadingClass","resetPreloading","contentWindow","location","handleSources","source","sourceSrcset","lazyUnveil","isAuto","sizes","isImg","isPicture","firesLoad","nodeName","defaultPrevented","clearTimeout","srcset","getAttribute","iframeLoadMode","changeIframeSrc","isLoaded","complete","naturalWidth","autoSizer","updateElem","altLoadmodeScrollListner","afterScroll","onload","_","loadingElements","img","persisted","querySelectorAll","MutationObserver","childList","subtree","attributes","observe","readyState","unveil","checkElems","_aLSL","sizeElement","sources","len","dataAttr","debouncedUpdateElementsSizes","autosizesElems","getSizeElement","uP","aC","rC","hC","fire","gW","module","_typeof","exports"],"mappings":"+PAAC,SAASA,EAAQC,GACjB,IAAIC,EAOL,SAAAF,EAAAG,EAAAC,GAIA,IAAAC,EAQEC,EAoCC,GAvCD,WACF,IAAAC,EAEED,EAJD,CAUEE,UAAW,WAJZC,YAAU,aACVC,aAAA,cAEAC,aAAIC,cACHJ,WAAS,YAETE,eAAY,gBACZC,gBAAc,eACdE,eAAY,EACZC,QAAA,WACAC,WAAAA,cACAC,UAAAA,aAEAF,QAAAA,GACAG,YAAU,GACVC,MAAAA,EACAC,UAAA,IACAC,KAAAA,GACAC,SAAAA,EACAC,YAAM,EACNH,WAAS,EACTI,cAlBuB,KAAA,IAAxBhB,KAqBCiB,EAAUxB,EArBayB,iBAAAzB,EAAA0B,iBAAA,GAAxBd,EAyBAN,KAAYA,IAIVA,EAAaC,GAAQK,EAAkBL,IArCzC,IAuCCJ,IAAAA,EAAAwB,uBACD,MAnCD,CAuCEL,KAAM,aAINM,IAAKtB,EAALsB,WAAKtB,GAGR,IAAAuB,EAAA1B,EAAA2B,gBAREC,EAAA/B,EAAAgC,mBAiBGC,EAAoB,mBAFxBC,EAAkB,eASnBC,EAAAnC,EAAAiC,GAAAG,KAAApC,GACCqC,EAAIF,EAAmBnC,WAEvBsC,EAAwBD,EAAxBC,uBAAAD,EAIAE,EAAuBvC,EAASuC,oBAIhCC,EAAc,aAIdC,EAAcC,CAAAA,OAAMC,QAAUC,eAA9B,eAGDC,EAAA,GAEAD,EAAAF,MAAAC,UAAAC,QACKE,EAAW,SAASC,EAAKC,GAQ9B,OAJEH,EAAOA,KAJRA,EAAAG,GAAA,IAAAC,OAAA,UAAAD,EAAA,YAQDH,EAAAG,GAAAE,KAAAH,EAAAb,GAAA,UAAA,KAAAW,EAAAG,IAKGD,EAAII,SAAaJ,EAAjBC,GACAF,EAAAC,EAAAC,IAHFD,EAAAI,aAAA,SAAAJ,EAAAb,GAAA,UAAA,IAAAkB,OAAA,IAAAJ,IAWCK,EAAA,SAAAN,EAAAC,GAAA,IAAIM,GACJA,EAAQR,EAAWC,EAAAC,KAClBD,EAAAA,aAAII,SAAJJ,EAA2BA,GAAIb,UAAJ,IAA+BqB,QAAIA,EAAQD,OAIxEE,EAAuB,SAAvBA,EAA0BC,EAAtBD,EAAAA,GACH,IAAAE,EAAUC,EAAM1B,EAAA,sBACb0B,GAAHH,EAAOC,EAAAG,GAENnB,EAAAG,QAAA,SAAAiB,GAEAJ,EAAIC,GAAQG,EAAKD,MAWpBE,EAAA,SAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAEE,IAAIC,EAAQjE,EAASkE,YAAY,SAajC,OAdGP,IACHG,EAAIG,IAGHH,EAAAA,SAAA5D,EAKD+D,EAAME,UAAUN,GAAOE,GAAYC,GAAnCC,EAAAA,OAAME,EAINP,EAAAA,cAAKQ,GACLH,GAGDI,EAAkB,SAAdA,EAAAA,GACH,IAAAC,GACK1C,IAAoB0C,EAAYzE,EAAO0E,aAAepE,EAAaqE,KAAxEC,GAAK7C,EAAAA,MAAD8C,EAAqBJ,GAAkB,WAC1CI,EAAA1B,aAAWyB,SAAYA,EAAI1C,KAE1BuC,EAAA,CAAAK,YAAA,EAAAC,SAAA,CAAAF,MAEQD,GAAQA,EAAKI,MADtBP,EAAAA,IAAAA,EAASO,MAJVC,EAKO,SAAWL,EAAKI,GACtBH,OAAGG,iBAAHjB,EAAA,OAAA,IAAAmB,IAWHC,EAAA,SAAApB,EAAAqB,EAAAC,GAGA,IAFAA,EAAAA,GAAAtB,EAAAuB,YAEAD,EAAA/E,EAAAc,SAAAgE,IAAArB,EAAAwB,iBAKGF,EAASD,EAAOE,YAChBF,EAASA,EAAOI,WAGjB,OAAOH,GAHND,EAAM,WACN,IAAAK,EAAAC,EAOGC,EAAW,GALfC,EAAA,GARDC,EAAAF,EAWIG,EAAO,WACV,IAAAC,EAAAF,EAQCA,IANDA,EAAID,EAASI,OAAbJ,EAAAD,EAGAD,IAKCD,GAAU,GAFPM,EAAGJ,QAENF,EAAAA,OAAAA,GAGAA,GAAMM,GAOHE,EAAW,SAASrC,EAAIsC,GAH3BT,IAAUS,EACVtC,EAbDuC,MAAAC,KAAAC,YAeAR,EAAII,KAAAA,GAEFrC,IACA8B,GAAM,GACNG,EAAIS,OAAJjE,EAAAC,GAAAiE,MAOD,OAFEN,EAAAO,SAAAD,EATHN,EA3BO,GA0CPQ,GAAOR,SAAPrC,EAAA8C,GACA,OArCDA,EAyCE,WAFFZ,EAAIW,IAGDX,WACA,IACDa,EAAAP,KACCQ,EAAQP,UACRP,EAAA,WACAA,EAAAA,MAAIa,EAAAC,OA2DNC,GAAA,SAAaC,GACb,IAAAC,EAAWD,EACXP,EAAO,WACNQ,EAAO,KACPC,KAEGC,EAAQ,SAARA,IAAJ,IAAAC,EAAS9G,EAAG+G,MAARF,EAGCC,EARM,GAQV7E,EAAQ4E,EARE,GAQOC,IAEhB3E,GAAMgE,GAAAA,IAKR,OAAO,WAAPO,EAAO1G,EAAA+G,MAGDJ,IAALA,EAAKA,EAASE,EAlBJ,OAwBRG,EAAU,WAAd,IAAIA,EAAUC,EAAUC,EAAAC,EAAAC,EAGvBC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAGAC,EAAIC,SAEJA,EAAIC,YAGJA,EAAiB,aAAjBlI,IAAA,eAAAkD,KAAAiF,UAAAC,WAAIC,EAAgB,EAMnBC,EAAS,EAHNC,GAAW,EAKbD,EAAA,SAAAE,GACAF,IAJFE,KAAAF,EAAA,IAAAE,EAAAC,SAGEH,EAAY,IAOZI,EAAA,SAAA3E,GAKF,OAPqB,MAAhBgE,IAIJA,EAAiD,UAA1CA,EAAY5H,EAAM8E,KAAOlB,eAG7B4E,KAA4C,UAA1B1D,EAAlB0D,EAAAA,WAA2B5E,eAAiB,UAAAkB,EAAAlB,EAAA,gBAG/C4E,EAAcD,SAAU3E,EAAxB6E,GAEAjB,IAAAA,EACAG,EAAQ/D,EACR6D,EAAUgB,EAAV7E,GAOE8E,IATFlB,GAASiB,EAKTd,GAAMgB,EACLA,GAAAA,EAHDjB,GAAWe,EAMTC,IAASzD,EAAU2D,EAAAA,eAAnB3D,GAAAjF,EAAA6I,MAAA5D,GAAAvD,IACAiH,EACClB,GADDkB,EAAUjB,EAAUgB,YAAV,KAMX,WAAA5D,EAAAG,EAAA,cAPCyD,EAAYzD,EAAO2D,wBASrBD,EAAOA,EAAPD,EAAAI,MAvBDrB,EAAAiB,EAAAK,OAiBIpB,EAAWe,EAAUM,IAAM,GAS/BxB,EAAIyB,EAAgBC,OAAhBD,GAOFE,OAACR,GAIDM,EAAUG,WAET,IAAAA,EAAGD,EAACE,EAAAA,EAAoBA,EAAiBC,EAAUC,EAAAC,EAACC,EAAAC,EAAAC,EAAAvI,EAAUiI,EAAAnJ,EAAA0E,SAE9D,IAAAwC,EAAIW,EAADX,WAA6BwC,EAAAA,IAAmB1J,EAASmJ,EAACO,QAAgBP,CAG5EZ,IAHgIU,EAAA,EANlIf,IASEK,EAAAA,EAAAA,IALD,GAAIY,EAAcF,KAAME,EAAcF,GAAGG,UASxCI,IAAAA,GAAaxJ,EAAKC,iBAAuBA,EAAa0J,gBACrDnI,EAAQoI,IAAeC,EAAeC,EAAcb,SA4BtD,IAvBCQ,EAAaN,EAAGK,GAAa3H,GAAgBf,kBAA7CyH,EAAA,EAAAe,KACApI,EAAOjB,GAGPuJ,IACCxB,GAAAA,EAAgByB,QAAhBxJ,EAAA0J,OAAA,EACA,IAAAzB,EAAAA,cAAA,IAAA1G,EAAAsI,YAAA,IAAA,IACA7J,EAAM0J,OAEN3J,EAFM+J,OAEAP,EAENC,EAAAD,EAAAvJ,EAAAa,UACDI,EAAAjB,EAAAiB,KAVAwG,EAAe,KAafN,EAAO4C,GAAwB/B,EAA/B,GAAA,EAAAC,GAAA,EAAAhB,IAAApH,EAAAmK,QACA5C,EAAO6C,EACPb,EAAAA,GAEArB,EADe,EAAfuB,GAAA,EAAkBhB,GAAlBN,EAAA,EACAuB,EA1FJ,GAsGIW,IAAe5B,IAhBfnB,EAAO4C,WAAczB,EAAarH,EAiBlCmG,EAAA6C,YAAY3B,EAAMc,GAAA,EAAAd,EAAOgB,EAAAhB,GAMzB6B,EAAAjB,EAAAF,GAAAP,yBAfIjB,EAAW2C,EAAKpB,SAAWK,IAkBjC/B,EAAG+C,EAAAA,MAAgBhD,IAClBwC,EAAAA,EAAAA,QAAcQ,EAAdnJ,IACAqG,EAAA6C,EAAAxB,OAAAxB,IACDK,GAAAD,GAAAD,GAAAD,KAxEFrH,EAAAqK,YAAAjC,EAAAc,EAAAF,OAyDMjC,GAAeiB,EAAY,IAAMqB,IAAkBpC,EAAW,GAAKgB,EAAU,IAAOI,EAAgBa,EAAcF,GAAIV,KAoB5H,GAFAsB,EAAIU,EAAyBC,IAhBzBL,GAAkB,EAkBlBM,EAAAA,EAAAA,WACKN,GAARnD,IAAAqD,GAhBGpC,EAAY,GAAKC,EAAU,GAAgB,EAAXhB,IAkBnCwD,EAASC,IAAT1K,EAAqB2K,oBACpBF,EAAYC,KAAAA,IAAZlD,GAAAD,GAAAD,GAAAD,GAAA,QAAA6B,EAAAF,GAAApH,GAAA5B,EAAAY,eACAwJ,EAAAK,EAAA,IAAAvB,EAAAF,IAID4B,IAAe5K,GACf+C,EAAYU,KAIb6G,EAjOW,SAAGhH,GACd,IAAA6B,EACA0F,EAAY,EACZC,EAAU9K,EAAGA,cACb+K,EAAc/K,EAAGA,WACbiG,EAAM,WAAVd,GAAO,EACNA,EAAOrF,EAAG+G,MACVgE,KAFDG,EAAA/I,GAAA,GAAA8I,EAMC,WADD9I,EAAmBA,EAAAA,CAAAA,QAAAA,IAESwE,IAASsE,EAAAA,aAAVA,EAAzB/K,EAAAkB,aAGC6J,GAAAA,WACAhJ,EAAAkE,KANgB,GAanB,OAAA,SAAOgF,GACN,IAAAC,GAEAD,GAA2B,IAAbA,KACbF,EAAAA,IAGD5F,IAIAA,GAAO,GAEP+F,EAAQJ,GAAUhL,EAAK+G,MAAQgE,IAGzB,IACLK,EAAA,GAGAF,GAAYE,EAAA,EACZF,IAEAjJ,EAAAiJ,EAAAE,KAmLyBX,CAASC,GACpCA,EAAIW,SAAwBjD,GAC3BkD,IAAAA,EAAAA,EAAAA,OAAuB3H,EAAvBiH,kBADDjH,EAAAiH,YAPCW,EAAgBnD,GAehB0C,EAAI3D,EAAQjH,EAAOG,aAClBsD,EAAK6H,EAAAA,EAAcC,cACnBrI,EAAU+D,EAAYkE,GACtB1H,EAAAA,EAAA,gBAPF2H,EAAAjF,GAAAqE,GAJIW,EAAwB,SAASjD,GAerCkD,EAAoB,CAAAjD,OAAhBqD,EAAAA,UAcJA,EAAiBrF,SAAMsF,GACtB,IAAA1K,EAEA2K,EAAalI,EAAAA,GAAmBxD,EAAPW,aAGvBI,EAAUf,EAAAe,YAAA0K,EAAA7J,GAAA,eAAA6J,EAAA7J,GAAA,YACTgJ,EAAAA,aAASnH,QAAMzD,GAGf0L,GACDD,EAAA5I,aAAA,SAAA6I,IAXCC,EAAaxF,GAAM,SAAU1C,EAAME,EAAQiI,EAAQC,EAAOC,GAgB5D,IAAApH,EAAGoH,EAAOhH,EAAAiH,EAAAjI,EAAAkI,GAETD,EAAAA,EAAkBtI,EAAIvB,mBAAuB+J,IAAPC,mBAbpCL,IAgBHG,EAEAlI,EAAKL,EAAGzD,EAAAS,gBAAAgD,EAARZ,aAAA,QAAAgJ,IAKCM,EAAAA,EAAAA,GAAanF,EAAbrG,YACAqG,EAAAA,EAAAA,GAAoBhH,EAAaQ,SAEjCsL,IAdAhH,EAASrB,EAAKyB,WAgBf6G,EAAGA,GAAU7J,EAAAU,KAAAkC,EAAAmH,UAAA,KAZbD,EAAYrI,EAAOqI,WAAe,QAASvI,IAAU2I,GAAU1H,GAAOqH,GAiBrEtI,EAAAA,CAAAA,OAAKZ,GAEL+H,EAAAnH,EAAGkE,EAAelE,cAEjBuI,IACAvI,aAAKiB,GACLsC,EAAAjF,EAAAsJ,EAAA,MACDnI,EAAAO,EAAA0H,GAAA,IAGAjH,GAAsBQ,EAAAA,KAAKA,EAAAA,qBAAAA,UAAAA,GAE5B0H,EAZC3I,EAAKZ,aAAa,SAAUuJ,GAcvB1H,IAACyE,IACPxB,EAAOlE,KAAK0F,EAAAA,UAhEG,SAAUvH,EAAAA,GAb1B,IAAIqF,EAAWxD,EAAK4I,aAAa,mBAAqBrM,EAAasM,eAiBlE,GAAArF,EAbAxD,EAAK6H,cAAcC,SAAStI,QAAQyB,GAerB,GAAbgH,IACFD,EAAAA,IAAO5I,GA0DP0J,CAAA9I,EAAAiB,GACD3B,EAAAA,IAAW2B,GARPoH,IAAUM,GAAUL,IAcvB7H,EAAK8H,EAAaQ,CAAAA,IAAAA,KAThB/I,EAAK0F,kBAaNqB,EAAAA,UAEAzI,EAAAA,EAAW/B,EAAUE,WAEnBsF,EAAA,WAED,IAAAgH,EAJD/I,EAAAgJ,UAAA,EAAAhJ,EAAAiJ,aANIV,IAAaQ,IAYlBA,GACCxE,EAAAA,EAAShI,EAAAU,iBAEV8J,EAnBD1G,GAzDqBL,EAAtBiH,YAAA,EA+EA3I,EAAA,WACF,eAAA0B,UACAA,EAAAiH,YAVQ,IAaL,QAAAjH,EAAIA,SAAiBuE,MARlB,KAOA4B,EAAgB,SAAUnG,GAU7B,IAAAA,EAAKmI,UAAL,CAA8L,IAAAjI,EAN1LmI,EAAQpE,EAAO9E,KAAKa,EAAKwI,UAU7BJ,EAAGD,IAAOnI,EAAA7B,GAAA5B,EAAAY,YAAA6C,EAAA7B,GAAA,UACR+K,EAAUC,QAAVD,IALGf,GAAW7E,IAAgB+E,IAAUrI,EAAK7B,GAAe,SAAU6B,EAAK2I,QAAY3I,EAAKgJ,UAAajK,EAASiB,EAAMzD,EAAaO,cAAeiC,EAASiB,EAAMzD,EAAaE,cASlL8H,EAAAA,EAASvE,EAAA,kBAAAE,OAnBViI,GAeGe,GAAUC,WAAWnJ,GAAM,EAAMA,EAAKuB,aAWxCsF,EAAAA,WAAAA,EACAtC,IAED2D,EAAIkB,EAAAA,EAAAA,EAA2BhB,EAAAC,MAG7BgB,EAAAvG,GAAA,WAPDvG,EAAaiH,SAAW,EAQxB6F,MAGDD,EAAa,WACG,GAAf7M,EAAG+G,WAAa/G,EAAAiH,SAAA,GAJhB6F,KAOCC,EAAA,SAAAA,IACAhG,IAHEjH,EAAK+G,MAAQK,EAAU,IAM1BH,EAAAA,EAAc,MAAdA,GAAc,EAUdiG,EAAG/F,SAAU,EAGZlH,IAGA8B,EAAAA,SAAiBgL,GAAUvC,MAK1B,MAAA,CACC0C,EAAA,WAXF9F,EAAUpH,EAAK+G,MAcZ7E,EAAAA,SAAAA,EAAAA,uBAAkChC,EAAAE,WACjC+M,EAAAA,EAAAA,uBAAmCC,EAAKhN,UAAA,IAAAF,EAAAK,cAEtCuJ,EAAAA,SAAAA,GAAA,GAED/H,EAJD,SAAAyI,GAAA,GAMDzI,EAAA,WAAA,SAAAqG,GACD,GAAAA,EAAAiF,UAAA,CACD,IAdDF,EAAApN,EAAAuN,iBAAA,IAAApN,EAAAI,cAgBA6M,EAAUI,QAAVJ,EAA2B3K,SAC1BN,EAAIqL,WAA8DC,EAAWhL,QAAZ,SAAA4K,GAAkBK,EAAAA,UAAeC,EAAYN,UAK9GxN,EAAA2N,iBALA,IAAIA,iBAAkB/C,GAAyBmD,QAASlM,EAAS,CAAC+L,WAAW,EAAMC,SAAS,EAAMC,YAAY,KAE9GjM,EAAQI,GAAmB,kBAAmB2I,GAAwB,GAQvE/I,EAACI,GAAsB,kBAAiB2I,GAAiB,GACxDzK,YAAAA,EAA4B6D,MAG7B7B,EAAYe,aAAc8K,GAAa,GAGtC7L,CAAAA,QAAAA,YAAiB,QAAQkL,OAAzB,gBAAA,gBAAAzK,QAAA,SAAAoB,GANA7D,EAAS8B,GAAmB+B,EAAM4G,GAAwB,KAQ1DvI,QAAAA,KAAWgL,EAAQW,YACnBX,KAEDlL,EAAa4C,OAAVsI,GACFjE,EAAAA,GAAa,mBAAAwB,GAJbvI,EAAWgL,EAAQ,MAOnBzC,EAAAA,SAAAA,QACAxB,IACDtD,EAxDKU,YA0DNyH,KApXWC,WAAbtD,EAoXEqD,OAAQ/D,EAMViE,MAAIlB,GA1XU,GAgYZ5H,GAAS,WAETtB,IAAAA,EAEAqK,EAAa3H,GAAMrB,SAAOmH,EAAPnH,EAAnBhB,EAA0CiB,GACzCgJ,IAAAA,EAAO/E,EAAGlE,EADX,GALArB,EAAKwB,gBAAkBF,EAOtBA,GAAA,KAECtB,EAAAZ,aAAA,QAAAkC,GAJC7C,EAAWU,KAAKkC,EAAOmH,UAAY,IAQrC/H,IADD6J,EAAIjK,EAAMH,qBAAgB,UACzBO,EAAAA,EAAAA,EAAAA,EAAqBJ,OAAMH,EAAbqK,EAAdhF,IACA+E,EAAA/E,GAAAnG,aAAA,QAAAkC,GAIJjB,EAAAH,OAAAsK,UACA/J,EAAAT,EAAAK,EAAAH,UAQIoB,EAAQF,SAAeC,EAAQC,EAA/BA,GACAjB,IAAAA,EAA+CiB,EAAKtB,EAAEsB,WAARD,IAD9CC,EAAQF,EAASpB,EAAMqB,EAAQC,IAG/BjB,EAAGN,EAAO0I,EAAAA,kBAAiB,CAAAnH,MAAAA,EAAAkJ,WAAAA,KAAjB/B,mBAGTnH,EAAAjB,EAAQH,OAAIoB,QAEXA,IAAAtB,EAAAwB,iBACD6I,EAAArK,EAAAqB,EAAAhB,EAAAiB,KAkBHmJ,EAAO3H,GAZI4H,WADV,IAAInF,EAEJgF,EAAAG,EAAOzI,OACNsD,GAAAA,EAGCoF,IAHDpF,EAAI,EAGHoF,EAAAA,EAAAA,IACAA,EAAAD,EAAAnF,MAQDmF,MAAAA,CACAtM,EAAAA,WACAsM,EAJKtO,EAAAwB,uBAAArB,EAAAS,gBAKNmN,EAAYM,SAAAA,IALNN,WAAPM,EA3DetB,WAAhBwB,GAMW,GAiETpN,EAAA,SAAAA,KADGA,EAAKgI,GAAKnJ,EAASwB,yBAEtBsL,EAAAA,GAAAA,EAAAA,GAAUK,IACVlG,EAAAA,MA2BF,OAvBA/E,EAAU,WACT/B,EAAGA,MACFgB,MAKDjB,EAAA,CAIA4M,IAAAA,EACA7F,UAAQA,GACR9F,OAAMA,EACNqN,KAAInK,EACJoK,GAAEpK,EACFqK,GAAE3D,EACF4D,GAAEzL,EACF0L,GAAAA,EACAC,KAAI7J,EACJW,GAAAA,EAdWA,IAAZA,GAzxBgB7F,CAAQD,EAAQA,EAAOG,SAAUC,MACjDJ,EAAOE,UAAYA,EACC,WAAjB,oBAAO+O,OAAP,YAAAC,QAAOD,UAAsBA,OAAOE,UAHvCF,OAAAE,QAAiBlP,GAAjB,CAEA,oBAAOC,OAKFF,OAAS","file":"lazysizes-782f3ff90c.js","sourcesContent":["(function(window, factory) {\n\tvar lazySizes = factory(window, window.document, Date);\n\twindow.lazySizes = lazySizes;\n\tif(typeof module == 'object' && module.exports){\n\t\tmodule.exports = lazySizes;\n\t}\n}(typeof window != 'undefined' ?\n      window : {}, \n/**\n * import(\"./types/global\")\n * @typedef { import(\"./types/lazysizes-config\").LazySizesConfigPartial } LazySizesConfigPartial\n */\nfunction l(window, document, Date) { // Pass in the window Date function also for SSR because the Date class can be lost\n\t'use strict';\n\t/*jshint eqnull:true */\n\n\tvar lazysizes,\n\t\t/**\n\t\t * @type { LazySizesConfigPartial }\n\t\t */\n\t\tlazySizesCfg;\n\n\t(function(){\n\t\tvar prop;\n\n\t\tvar lazySizesDefaults = {\n\t\t\tlazyClass: 'lazyload',\n\t\t\tloadedClass: 'lazyloaded',\n\t\t\tloadingClass: 'lazyloading',\n\t\t\tpreloadClass: 'lazypreload',\n\t\t\terrorClass: 'lazyerror',\n\t\t\t//strictClass: 'lazystrict',\n\t\t\tautosizesClass: 'lazyautosizes',\n\t\t\tfastLoadedClass: 'ls-is-cached',\n\t\t\tiframeLoadMode: 0,\n\t\t\tsrcAttr: 'data-src',\n\t\t\tsrcsetAttr: 'data-srcset',\n\t\t\tsizesAttr: 'data-sizes',\n\t\t\t//preloadAfterLoad: false,\n\t\t\tminSize: 40,\n\t\t\tcustomMedia: {},\n\t\t\tinit: true,\n\t\t\texpFactor: 1.5,\n\t\t\thFac: 0.8,\n\t\t\tloadMode: 2,\n\t\t\tloadHidden: true,\n\t\t\tricTimeout: 0,\n\t\t\tthrottleDelay: 125,\n\t\t};\n\n\t\tlazySizesCfg = window.lazySizesConfig || window.lazysizesConfig || {};\n\n\t\tfor(prop in lazySizesDefaults){\n\t\t\tif(!(prop in lazySizesCfg)){\n\t\t\t\tlazySizesCfg[prop] = lazySizesDefaults[prop];\n\t\t\t}\n\t\t}\n\t})();\n\n\tif (!document || !document.getElementsByClassName) {\n\t\treturn {\n\t\t\tinit: function () {},\n\t\t\t/**\n\t\t\t * @type { LazySizesConfigPartial }\n\t\t\t */\n\t\t\tcfg: lazySizesCfg,\n\t\t\t/**\n\t\t\t * @type { true }\n\t\t\t */\n\t\t\tnoSupport: true,\n\t\t};\n\t}\n\n\tvar docElem = document.documentElement;\n\n\tvar supportPicture = window.HTMLPictureElement;\n\n\tvar _addEventListener = 'addEventListener';\n\n\tvar _getAttribute = 'getAttribute';\n\n\t/**\n\t * Update to bind to window because 'this' becomes null during SSR\n\t * builds.\n\t */\n\tvar addEventListener = window[_addEventListener].bind(window);\n\n\tvar setTimeout = window.setTimeout;\n\n\tvar requestAnimationFrame = window.requestAnimationFrame || setTimeout;\n\n\tvar requestIdleCallback = window.requestIdleCallback;\n\n\tvar regPicture = /^picture$/i;\n\n\tvar loadEvents = ['load', 'error', 'lazyincluded', '_lazyloaded'];\n\n\tvar regClassCache = {};\n\n\tvar forEach = Array.prototype.forEach;\n\n\t/**\n\t * @param ele {Element}\n\t * @param cls {string}\n\t */\n\tvar hasClass = function(ele, cls) {\n\t\tif(!regClassCache[cls]){\n\t\t\tregClassCache[cls] = new RegExp('(\\\\s|^)'+cls+'(\\\\s|$)');\n\t\t}\n\t\treturn regClassCache[cls].test(ele[_getAttribute]('class') || '') && regClassCache[cls];\n\t};\n\n\t/**\n\t * @param ele {Element}\n\t * @param cls {string}\n\t */\n\tvar addClass = function(ele, cls) {\n\t\tif (!hasClass(ele, cls)){\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').trim() + ' ' + cls);\n\t\t}\n\t};\n\n\t/**\n\t * @param ele {Element}\n\t * @param cls {string}\n\t */\n\tvar removeClass = function(ele, cls) {\n\t\tvar reg;\n\t\tif ((reg = hasClass(ele,cls))) {\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').replace(reg, ' '));\n\t\t}\n\t};\n\n\tvar addRemoveLoadEvents = function(dom, fn, add){\n\t\tvar action = add ? _addEventListener : 'removeEventListener';\n\t\tif(add){\n\t\t\taddRemoveLoadEvents(dom, fn);\n\t\t}\n\t\tloadEvents.forEach(function(evt){\n\t\t\tdom[action](evt, fn);\n\t\t});\n\t};\n\n\t/**\n\t * @param elem { Element }\n\t * @param name { string }\n\t * @param detail { any }\n\t * @param noBubbles { boolean }\n\t * @param noCancelable { boolean }\n\t * @returns { CustomEvent }\n\t */\n\tvar triggerEvent = function(elem, name, detail, noBubbles, noCancelable){\n\t\tvar event = document.createEvent('Event');\n\n\t\tif(!detail){\n\t\t\tdetail = {};\n\t\t}\n\n\t\tdetail.instance = lazysizes;\n\n\t\tevent.initEvent(name, !noBubbles, !noCancelable);\n\n\t\tevent.detail = detail;\n\n\t\telem.dispatchEvent(event);\n\t\treturn event;\n\t};\n\n\tvar updatePolyfill = function (el, full){\n\t\tvar polyfill;\n\t\tif( !supportPicture && ( polyfill = (window.picturefill || lazySizesCfg.pf) ) ){\n\t\t\tif(full && full.src && !el[_getAttribute]('srcset')){\n\t\t\t\tel.setAttribute('srcset', full.src);\n\t\t\t}\n\t\t\tpolyfill({reevaluate: true, elements: [el]});\n\t\t} else if(full && full.src){\n\t\t\tel.src = full.src;\n\t\t}\n\t};\n\n\tvar getCSS = function (elem, style){\n\t\treturn (getComputedStyle(elem, null) || {})[style];\n\t};\n\n\t/**\n\t *\n\t * @param elem { Element }\n\t * @param parent { Element }\n\t * @param [width] {number}\n\t * @returns {number}\n\t */\n\tvar getWidth = function(elem, parent, width){\n\t\twidth = width || elem.offsetWidth;\n\n\t\twhile(width < lazySizesCfg.minSize && parent && !elem._lazysizesWidth){\n\t\t\twidth =  parent.offsetWidth;\n\t\t\tparent = parent.parentNode;\n\t\t}\n\n\t\treturn width;\n\t};\n\n\tvar rAF = (function(){\n\t\tvar running, waiting;\n\t\tvar firstFns = [];\n\t\tvar secondFns = [];\n\t\tvar fns = firstFns;\n\n\t\tvar run = function(){\n\t\t\tvar runFns = fns;\n\n\t\t\tfns = firstFns.length ? secondFns : firstFns;\n\n\t\t\trunning = true;\n\t\t\twaiting = false;\n\n\t\t\twhile(runFns.length){\n\t\t\t\trunFns.shift()();\n\t\t\t}\n\n\t\t\trunning = false;\n\t\t};\n\n\t\tvar rafBatch = function(fn, queue){\n\t\t\tif(running && !queue){\n\t\t\t\tfn.apply(this, arguments);\n\t\t\t} else {\n\t\t\t\tfns.push(fn);\n\n\t\t\t\tif(!waiting){\n\t\t\t\t\twaiting = true;\n\t\t\t\t\t(document.hidden ? setTimeout : requestAnimationFrame)(run);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\trafBatch._lsFlush = run;\n\n\t\treturn rafBatch;\n\t})();\n\n\tvar rAFIt = function(fn, simple){\n\t\treturn simple ?\n\t\t\tfunction() {\n\t\t\t\trAF(fn);\n\t\t\t} :\n\t\t\tfunction(){\n\t\t\t\tvar that = this;\n\t\t\t\tvar args = arguments;\n\t\t\t\trAF(function(){\n\t\t\t\t\tfn.apply(that, args);\n\t\t\t\t});\n\t\t\t}\n\t\t;\n\t};\n\n\tvar throttle = function(fn){\n\t\tvar running;\n\t\tvar lastTime = 0;\n\t\tvar gDelay = lazySizesCfg.throttleDelay;\n\t\tvar rICTimeout = lazySizesCfg.ricTimeout;\n\t\tvar run = function(){\n\t\t\trunning = false;\n\t\t\tlastTime = Date.now();\n\t\t\tfn();\n\t\t};\n\t\tvar idleCallback = requestIdleCallback && rICTimeout > 49 ?\n\t\t\tfunction(){\n\t\t\t\trequestIdleCallback(run, {timeout: rICTimeout});\n\n\t\t\t\tif(rICTimeout !== lazySizesCfg.ricTimeout){\n\t\t\t\t\trICTimeout = lazySizesCfg.ricTimeout;\n\t\t\t\t}\n\t\t\t} :\n\t\t\trAFIt(function(){\n\t\t\t\tsetTimeout(run);\n\t\t\t}, true)\n\t\t;\n\n\t\treturn function(isPriority){\n\t\t\tvar delay;\n\n\t\t\tif((isPriority = isPriority === true)){\n\t\t\t\trICTimeout = 33;\n\t\t\t}\n\n\t\t\tif(running){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trunning =  true;\n\n\t\t\tdelay = gDelay - (Date.now() - lastTime);\n\n\t\t\tif(delay < 0){\n\t\t\t\tdelay = 0;\n\t\t\t}\n\n\t\t\tif(isPriority || delay < 9){\n\t\t\t\tidleCallback();\n\t\t\t} else {\n\t\t\t\tsetTimeout(idleCallback, delay);\n\t\t\t}\n\t\t};\n\t};\n\n\t//based on http://modernjavascript.blogspot.de/2013/08/building-better-debounce.html\n\tvar debounce = function(func) {\n\t\tvar timeout, timestamp;\n\t\tvar wait = 99;\n\t\tvar run = function(){\n\t\t\ttimeout = null;\n\t\t\tfunc();\n\t\t};\n\t\tvar later = function() {\n\t\t\tvar last = Date.now() - timestamp;\n\n\t\t\tif (last < wait) {\n\t\t\t\tsetTimeout(later, wait - last);\n\t\t\t} else {\n\t\t\t\t(requestIdleCallback || run)(run);\n\t\t\t}\n\t\t};\n\n\t\treturn function() {\n\t\t\ttimestamp = Date.now();\n\n\t\t\tif (!timeout) {\n\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t}\n\t\t};\n\t};\n\n\tvar loader = (function(){\n\t\tvar preloadElems, isCompleted, resetPreloadingTimer, loadMode, started;\n\n\t\tvar eLvW, elvH, eLtop, eLleft, eLright, eLbottom, isBodyHidden;\n\n\t\tvar regImg = /^img$/i;\n\t\tvar regIframe = /^iframe$/i;\n\n\t\tvar supportScroll = ('onscroll' in window) && !(/(gle|ing)bot/.test(navigator.userAgent));\n\n\t\tvar shrinkExpand = 0;\n\t\tvar currentExpand = 0;\n\n\t\tvar isLoading = 0;\n\t\tvar lowRuns = -1;\n\n\t\tvar resetPreloading = function(e){\n\t\t\tisLoading--;\n\t\t\tif(!e || isLoading < 0 || !e.target){\n\t\t\t\tisLoading = 0;\n\t\t\t}\n\t\t};\n\n\t\tvar isVisible = function (elem) {\n\t\t\tif (isBodyHidden == null) {\n\t\t\t\tisBodyHidden = getCSS(document.body, 'visibility') == 'hidden';\n\t\t\t}\n\n\t\t\treturn isBodyHidden || !(getCSS(elem.parentNode, 'visibility') == 'hidden' && getCSS(elem, 'visibility') == 'hidden');\n\t\t};\n\n\t\tvar isNestedVisible = function(elem, elemExpand){\n\t\t\tvar outerRect;\n\t\t\tvar parent = elem;\n\t\t\tvar visible = isVisible(elem);\n\n\t\t\teLtop -= elemExpand;\n\t\t\teLbottom += elemExpand;\n\t\t\teLleft -= elemExpand;\n\t\t\teLright += elemExpand;\n\n\t\t\twhile(visible && (parent = parent.offsetParent) && parent != document.body && parent != docElem){\n\t\t\t\tvisible = ((getCSS(parent, 'opacity') || 1) > 0);\n\n\t\t\t\tif(visible && getCSS(parent, 'overflow') != 'visible'){\n\t\t\t\t\touterRect = parent.getBoundingClientRect();\n\t\t\t\t\tvisible = eLright > outerRect.left &&\n\t\t\t\t\t\teLleft < outerRect.right &&\n\t\t\t\t\t\teLbottom > outerRect.top - 1 &&\n\t\t\t\t\t\teLtop < outerRect.bottom + 1\n\t\t\t\t\t;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn visible;\n\t\t};\n\n\t\tvar checkElements = function() {\n\t\t\tvar eLlen, i, rect, autoLoadElem, loadedSomething, elemExpand, elemNegativeExpand, elemExpandVal,\n\t\t\t\tbeforeExpandVal, defaultExpand, preloadExpand, hFac;\n\t\t\tvar lazyloadElems = lazysizes.elements;\n\n\t\t\tif((loadMode = lazySizesCfg.loadMode) && isLoading < 8 && (eLlen = lazyloadElems.length)){\n\n\t\t\t\ti = 0;\n\n\t\t\t\tlowRuns++;\n\n\t\t\t\tfor(; i < eLlen; i++){\n\n\t\t\t\t\tif(!lazyloadElems[i] || lazyloadElems[i]._lazyRace){continue;}\n\n\t\t\t\t\tif(!supportScroll || (lazysizes.prematureUnveil && lazysizes.prematureUnveil(lazyloadElems[i]))){unveilElement(lazyloadElems[i]);continue;}\n\n\t\t\t\t\tif(!(elemExpandVal = lazyloadElems[i][_getAttribute]('data-expand')) || !(elemExpand = elemExpandVal * 1)){\n\t\t\t\t\t\telemExpand = currentExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!defaultExpand) {\n\t\t\t\t\t\tdefaultExpand = (!lazySizesCfg.expand || lazySizesCfg.expand < 1) ?\n\t\t\t\t\t\t\tdocElem.clientHeight > 500 && docElem.clientWidth > 500 ? 500 : 370 :\n\t\t\t\t\t\t\tlazySizesCfg.expand;\n\n\t\t\t\t\t\tlazysizes._defEx = defaultExpand;\n\n\t\t\t\t\t\tpreloadExpand = defaultExpand * lazySizesCfg.expFactor;\n\t\t\t\t\t\thFac = lazySizesCfg.hFac;\n\t\t\t\t\t\tisBodyHidden = null;\n\n\t\t\t\t\t\tif(currentExpand < preloadExpand && isLoading < 1 && lowRuns > 2 && loadMode > 2 && !document.hidden){\n\t\t\t\t\t\t\tcurrentExpand = preloadExpand;\n\t\t\t\t\t\t\tlowRuns = 0;\n\t\t\t\t\t\t} else if(loadMode > 1 && lowRuns > 1 && isLoading < 6){\n\t\t\t\t\t\t\tcurrentExpand = defaultExpand;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrentExpand = shrinkExpand;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif(beforeExpandVal !== elemExpand){\n\t\t\t\t\t\teLvW = innerWidth + (elemExpand * hFac);\n\t\t\t\t\t\telvH = innerHeight + elemExpand;\n\t\t\t\t\t\telemNegativeExpand = elemExpand * -1;\n\t\t\t\t\t\tbeforeExpandVal = elemExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\trect = lazyloadElems[i].getBoundingClientRect();\n\n\t\t\t\t\tif ((eLbottom = rect.bottom) >= elemNegativeExpand &&\n\t\t\t\t\t\t(eLtop = rect.top) <= elvH &&\n\t\t\t\t\t\t(eLright = rect.right) >= elemNegativeExpand * hFac &&\n\t\t\t\t\t\t(eLleft = rect.left) <= eLvW &&\n\t\t\t\t\t\t(eLbottom || eLright || eLleft || eLtop) &&\n\t\t\t\t\t\t(lazySizesCfg.loadHidden || isVisible(lazyloadElems[i])) &&\n\t\t\t\t\t\t((isCompleted && isLoading < 3 && !elemExpandVal && (loadMode < 3 || lowRuns < 4)) || isNestedVisible(lazyloadElems[i], elemExpand))){\n\t\t\t\t\t\tunveilElement(lazyloadElems[i]);\n\t\t\t\t\t\tloadedSomething = true;\n\t\t\t\t\t\tif(isLoading > 9){break;}\n\t\t\t\t\t} else if(!loadedSomething && isCompleted && !autoLoadElem &&\n\t\t\t\t\t\tisLoading < 4 && lowRuns < 4 && loadMode > 2 &&\n\t\t\t\t\t\t(preloadElems[0] || lazySizesCfg.preloadAfterLoad) &&\n\t\t\t\t\t\t(preloadElems[0] || (!elemExpandVal && ((eLbottom || eLright || eLleft || eLtop) || lazyloadElems[i][_getAttribute](lazySizesCfg.sizesAttr) != 'auto')))){\n\t\t\t\t\t\tautoLoadElem = preloadElems[0] || lazyloadElems[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(autoLoadElem && !loadedSomething){\n\t\t\t\t\tunveilElement(autoLoadElem);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar throttledCheckElements = throttle(checkElements);\n\n\t\tvar switchLoadingClass = function(e){\n\t\t\tvar elem = e.target;\n\n\t\t\tif (elem._lazyCache) {\n\t\t\t\tdelete elem._lazyCache;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresetPreloading(e);\n\t\t\taddClass(elem, lazySizesCfg.loadedClass);\n\t\t\tremoveClass(elem, lazySizesCfg.loadingClass);\n\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass);\n\t\t\ttriggerEvent(elem, 'lazyloaded');\n\t\t};\n\t\tvar rafedSwitchLoadingClass = rAFIt(switchLoadingClass);\n\t\tvar rafSwitchLoadingClass = function(e){\n\t\t\trafedSwitchLoadingClass({target: e.target});\n\t\t};\n\n\t\tvar changeIframeSrc = function(elem, src){\n\t\t\tvar loadMode = elem.getAttribute('data-load-mode') || lazySizesCfg.iframeLoadMode;\n\n\t\t\t// loadMode can be also a string!\n\t\t\tif (loadMode == 0) {\n\t\t\t\telem.contentWindow.location.replace(src);\n\t\t\t} else if (loadMode == 1) {\n\t\t\t\telem.src = src;\n\t\t\t}\n\t\t};\n\n\t\tvar handleSources = function(source){\n\t\t\tvar customMedia;\n\n\t\t\tvar sourceSrcset = source[_getAttribute](lazySizesCfg.srcsetAttr);\n\n\t\t\tif( (customMedia = lazySizesCfg.customMedia[source[_getAttribute]('data-media') || source[_getAttribute]('media')]) ){\n\t\t\t\tsource.setAttribute('media', customMedia);\n\t\t\t}\n\n\t\t\tif(sourceSrcset){\n\t\t\t\tsource.setAttribute('srcset', sourceSrcset);\n\t\t\t}\n\t\t};\n\n\t\tvar lazyUnveil = rAFIt(function (elem, detail, isAuto, sizes, isImg){\n\t\t\tvar src, srcset, parent, isPicture, event, firesLoad;\n\n\t\t\tif(!(event = triggerEvent(elem, 'lazybeforeunveil', detail)).defaultPrevented){\n\n\t\t\t\tif(sizes){\n\t\t\t\t\tif(isAuto){\n\t\t\t\t\t\taddClass(elem, lazySizesCfg.autosizesClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.setAttribute('sizes', sizes);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsrcset = elem[_getAttribute](lazySizesCfg.srcsetAttr);\n\t\t\t\tsrc = elem[_getAttribute](lazySizesCfg.srcAttr);\n\n\t\t\t\tif(isImg) {\n\t\t\t\t\tparent = elem.parentNode;\n\t\t\t\t\tisPicture = parent && regPicture.test(parent.nodeName || '');\n\t\t\t\t}\n\n\t\t\t\tfiresLoad = detail.firesLoad || (('src' in elem) && (srcset || src || isPicture));\n\n\t\t\t\tevent = {target: elem};\n\n\t\t\t\taddClass(elem, lazySizesCfg.loadingClass);\n\n\t\t\t\tif(firesLoad){\n\t\t\t\t\tclearTimeout(resetPreloadingTimer);\n\t\t\t\t\tresetPreloadingTimer = setTimeout(resetPreloading, 2500);\n\t\t\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass, true);\n\t\t\t\t}\n\n\t\t\t\tif(isPicture){\n\t\t\t\t\tforEach.call(parent.getElementsByTagName('source'), handleSources);\n\t\t\t\t}\n\n\t\t\t\tif(srcset){\n\t\t\t\t\telem.setAttribute('srcset', srcset);\n\t\t\t\t} else if(src && !isPicture){\n\t\t\t\t\tif(regIframe.test(elem.nodeName)){\n\t\t\t\t\t\tchangeIframeSrc(elem, src);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.src = src;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(isImg && (srcset || isPicture)){\n\t\t\t\t\tupdatePolyfill(elem, {src: src});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(elem._lazyRace){\n\t\t\t\tdelete elem._lazyRace;\n\t\t\t}\n\t\t\tremoveClass(elem, lazySizesCfg.lazyClass);\n\n\t\t\trAF(function(){\n\t\t\t\t// Part of this can be removed as soon as this fix is older: https://bugs.chromium.org/p/chromium/issues/detail?id=7731 (2015)\n\t\t\t\tvar isLoaded = elem.complete && elem.naturalWidth > 1;\n\n\t\t\t\tif( !firesLoad || isLoaded){\n\t\t\t\t\tif (isLoaded) {\n\t\t\t\t\t\taddClass(elem, lazySizesCfg.fastLoadedClass);\n\t\t\t\t\t}\n\t\t\t\t\tswitchLoadingClass(event);\n\t\t\t\t\telem._lazyCache = true;\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tif ('_lazyCache' in elem) {\n\t\t\t\t\t\t\tdelete elem._lazyCache;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 9);\n\t\t\t\t}\n\t\t\t\tif (elem.loading == 'lazy') {\n\t\t\t\t\tisLoading--;\n\t\t\t\t}\n\t\t\t}, true);\n\t\t});\n\n\t\t/**\n\t\t *\n\t\t * @param elem { Element }\n\t\t */\n\t\tvar unveilElement = function (elem){\n\t\t\tif (elem._lazyRace) {return;}\n\t\t\tvar detail;\n\n\t\t\tvar isImg = regImg.test(elem.nodeName);\n\n\t\t\t//allow using sizes=\"auto\", but don't use. it's invalid. Use data-sizes=\"auto\" or a valid value for sizes instead (i.e.: sizes=\"80vw\")\n\t\t\tvar sizes = isImg && (elem[_getAttribute](lazySizesCfg.sizesAttr) || elem[_getAttribute]('sizes'));\n\t\t\tvar isAuto = sizes == 'auto';\n\n\t\t\tif( (isAuto || !isCompleted) && isImg && (elem[_getAttribute]('src') || elem.srcset) && !elem.complete && !hasClass(elem, lazySizesCfg.errorClass) && hasClass(elem, lazySizesCfg.lazyClass)){return;}\n\n\t\t\tdetail = triggerEvent(elem, 'lazyunveilread').detail;\n\n\t\t\tif(isAuto){\n\t\t\t\t autoSizer.updateElem(elem, true, elem.offsetWidth);\n\t\t\t}\n\n\t\t\telem._lazyRace = true;\n\t\t\tisLoading++;\n\n\t\t\tlazyUnveil(elem, detail, isAuto, sizes, isImg);\n\t\t};\n\n\t\tvar afterScroll = debounce(function(){\n\t\t\tlazySizesCfg.loadMode = 3;\n\t\t\tthrottledCheckElements();\n\t\t});\n\n\t\tvar altLoadmodeScrollListner = function(){\n\t\t\tif(lazySizesCfg.loadMode == 3){\n\t\t\t\tlazySizesCfg.loadMode = 2;\n\t\t\t}\n\t\t\tafterScroll();\n\t\t};\n\n\t\tvar onload = function(){\n\t\t\tif(isCompleted){return;}\n\t\t\tif(Date.now() - started < 999){\n\t\t\t\tsetTimeout(onload, 999);\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tisCompleted = true;\n\n\t\t\tlazySizesCfg.loadMode = 3;\n\n\t\t\tthrottledCheckElements();\n\n\t\t\taddEventListener('scroll', altLoadmodeScrollListner, true);\n\t\t};\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tstarted = Date.now();\n\n\t\t\t\tlazysizes.elements = document.getElementsByClassName(lazySizesCfg.lazyClass);\n\t\t\t\tpreloadElems = document.getElementsByClassName(lazySizesCfg.lazyClass + ' ' + lazySizesCfg.preloadClass);\n\n\t\t\t\taddEventListener('scroll', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('resize', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('pageshow', function (e) {\n\t\t\t\t\tif (e.persisted) {\n\t\t\t\t\t\tvar loadingElements = document.querySelectorAll('.' + lazySizesCfg.loadingClass);\n\n\t\t\t\t\t\tif (loadingElements.length && loadingElements.forEach) {\n\t\t\t\t\t\t\trequestAnimationFrame(function () {\n\t\t\t\t\t\t\t\tloadingElements.forEach( function (img) {\n\t\t\t\t\t\t\t\t\tif (img.complete) {\n\t\t\t\t\t\t\t\t\t\tunveilElement(img);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(window.MutationObserver){\n\t\t\t\t\tnew MutationObserver( throttledCheckElements ).observe( docElem, {childList: true, subtree: true, attributes: true} );\n\t\t\t\t} else {\n\t\t\t\t\tdocElem[_addEventListener]('DOMNodeInserted', throttledCheckElements, true);\n\t\t\t\t\tdocElem[_addEventListener]('DOMAttrModified', throttledCheckElements, true);\n\t\t\t\t\tsetInterval(throttledCheckElements, 999);\n\t\t\t\t}\n\n\t\t\t\taddEventListener('hashchange', throttledCheckElements, true);\n\n\t\t\t\t//, 'fullscreenchange'\n\t\t\t\t['focus', 'mouseover', 'click', 'load', 'transitionend', 'animationend'].forEach(function(name){\n\t\t\t\t\tdocument[_addEventListener](name, throttledCheckElements, true);\n\t\t\t\t});\n\n\t\t\t\tif((/d$|^c/.test(document.readyState))){\n\t\t\t\t\tonload();\n\t\t\t\t} else {\n\t\t\t\t\taddEventListener('load', onload);\n\t\t\t\t\tdocument[_addEventListener]('DOMContentLoaded', throttledCheckElements);\n\t\t\t\t\tsetTimeout(onload, 20000);\n\t\t\t\t}\n\n\t\t\t\tif(lazysizes.elements.length){\n\t\t\t\t\tcheckElements();\n\t\t\t\t\trAF._lsFlush();\n\t\t\t\t} else {\n\t\t\t\t\tthrottledCheckElements();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcheckElems: throttledCheckElements,\n\t\t\tunveil: unveilElement,\n\t\t\t_aLSL: altLoadmodeScrollListner,\n\t\t};\n\t})();\n\n\n\tvar autoSizer = (function(){\n\t\tvar autosizesElems;\n\n\t\tvar sizeElement = rAFIt(function(elem, parent, event, width){\n\t\t\tvar sources, i, len;\n\t\t\telem._lazysizesWidth = width;\n\t\t\twidth += 'px';\n\n\t\t\telem.setAttribute('sizes', width);\n\n\t\t\tif(regPicture.test(parent.nodeName || '')){\n\t\t\t\tsources = parent.getElementsByTagName('source');\n\t\t\t\tfor(i = 0, len = sources.length; i < len; i++){\n\t\t\t\t\tsources[i].setAttribute('sizes', width);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!event.detail.dataAttr){\n\t\t\t\tupdatePolyfill(elem, event.detail);\n\t\t\t}\n\t\t});\n\t\t/**\n\t\t *\n\t\t * @param elem {Element}\n\t\t * @param dataAttr\n\t\t * @param [width] { number }\n\t\t */\n\t\tvar getSizeElement = function (elem, dataAttr, width){\n\t\t\tvar event;\n\t\t\tvar parent = elem.parentNode;\n\n\t\t\tif(parent){\n\t\t\t\twidth = getWidth(elem, parent, width);\n\t\t\t\tevent = triggerEvent(elem, 'lazybeforesizes', {width: width, dataAttr: !!dataAttr});\n\n\t\t\t\tif(!event.defaultPrevented){\n\t\t\t\t\twidth = event.detail.width;\n\n\t\t\t\t\tif(width && width !== elem._lazysizesWidth){\n\t\t\t\t\t\tsizeElement(elem, parent, event, width);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar updateElementsSizes = function(){\n\t\t\tvar i;\n\t\t\tvar len = autosizesElems.length;\n\t\t\tif(len){\n\t\t\t\ti = 0;\n\n\t\t\t\tfor(; i < len; i++){\n\t\t\t\t\tgetSizeElement(autosizesElems[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar debouncedUpdateElementsSizes = debounce(updateElementsSizes);\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tautosizesElems = document.getElementsByClassName(lazySizesCfg.autosizesClass);\n\t\t\t\taddEventListener('resize', debouncedUpdateElementsSizes);\n\t\t\t},\n\t\t\tcheckElems: debouncedUpdateElementsSizes,\n\t\t\tupdateElem: getSizeElement\n\t\t};\n\t})();\n\n\tvar init = function(){\n\t\tif(!init.i && document.getElementsByClassName){\n\t\t\tinit.i = true;\n\t\t\tautoSizer._();\n\t\t\tloader._();\n\t\t}\n\t};\n\n\tsetTimeout(function(){\n\t\tif(lazySizesCfg.init){\n\t\t\tinit();\n\t\t}\n\t});\n\n\tlazysizes = {\n\t\t/**\n\t\t * @type { LazySizesConfigPartial }\n\t\t */\n\t\tcfg: lazySizesCfg,\n\t\tautoSizer: autoSizer,\n\t\tloader: loader,\n\t\tinit: init,\n\t\tuP: updatePolyfill,\n\t\taC: addClass,\n\t\trC: removeClass,\n\t\thC: hasClass,\n\t\tfire: triggerEvent,\n\t\tgW: getWidth,\n\t\trAF: rAF,\n\t};\n\n\treturn lazysizes;\n}\n));\n"]}